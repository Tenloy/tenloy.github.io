<!DOCTYPE html>
<html lang="en">
    <!-- title -->




<!-- keywords -->




<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta name="author" content="Tenloy">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Tenloy">
    
    <meta name="keywords" content="Tenloy,iOS,Swift">
    
    <meta name="description" content="学习 生活 记录 回忆">
    <meta name="description" content="本篇文章偏硬件科普，没有什么实质性的技术知识。 一、指令集 以下摘自维基百科  指令集架构(Instruction Set Architecture，缩写为ISA)，又称指令集或指令集体系，有的地方也称为CPU架构。包含了一系列的opcode即操作码（机器语言），以及由特定处理器执行的基本命令。 一台计算机要有较好的性能，必须设计功能齐全、通用性强、内含丰富的指令系统。常接触的指令集内容：  寻址">
<meta property="og:type" content="article">
<meta property="og:title" content="指令集、微架构、手机芯片(Soc)及ARM的介绍">
<meta property="og:url" content="https://tenloy.github.io/2021/04/14/03-2_ISA-Microarch-Soc/index.html">
<meta property="og:site_name" content="Tenloy&#39;s Blog">
<meta property="og:description" content="本篇文章偏硬件科普，没有什么实质性的技术知识。 一、指令集 以下摘自维基百科  指令集架构(Instruction Set Architecture，缩写为ISA)，又称指令集或指令集体系，有的地方也称为CPU架构。包含了一系列的opcode即操作码（机器语言），以及由特定处理器执行的基本命令。 一台计算机要有较好的性能，必须设计功能齐全、通用性强、内含丰富的指令系统。常接触的指令集内容：  寻址">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://tenloy.github.io/images/OS/ISA/2181780-e8d98c5607e0d472.png">
<meta property="og:image" content="https://tenloy.github.io/images/OS/ISA/2181780-af598567c5c86805.jpg">
<meta property="article:published_time" content="2021-04-14T15:00:20.000Z">
<meta property="article:modified_time" content="2021-07-03T16:09:01.493Z">
<meta property="article:author" content="Tenloy">
<meta property="article:tag" content="ISA">
<meta property="article:tag" content="Microarch">
<meta property="article:tag" content="Soc">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tenloy.github.io/images/OS/ISA/2181780-e8d98c5607e0d472.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    
    <title>指令集、微架构、手机芯片(Soc)及ARM的介绍 · Tenloy&#39;s Blog</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= "/css/style.css?v=20180824" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href= "/css/mobile.css?v=20180824" media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href= "/assets/favicon.ico" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script" />
    <link rel="preload" href="/scripts/main.js" as="script" />
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
        <!-- algolia -->
        <script>
            
            var hits = JSON.parse('{"per_page":10}')
            var labels = JSON.parse('{"input_placeholder":"Search for Posts","hits_empty":"没有找到任何搜索结果: ${query}","hits_stats":"找到约${hits}条结果（用时${time}ms）"}')

            var algolia = {
                applicationID: 'V0HYXBS9FB',
                apiKey: '6550d5de786935564142097c3e78c380',
                indexName: 'law_blog_index',
                hits: hits,
                labels: labels
            }
        </script>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Tenloy's Blog" type="application/atom+xml">
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >Tenloy&#39;s Blog</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">指令集、微架构、手机芯片(Soc)及ARM的介绍</a>
            </div>
    </div>
    
    <!-- 将home-link的操作改为应用到header-top-right上 -->
    <div class="header-top-right">
        <!-- search  -->
        
            <div class="site-search popup-trigger tl-search">
                <span class="iconfont-jian tl-search-icon">&#xe7fc;搜索</span>
            </div>
            
        <a class="home-link" href=/>Tenloy's Blog</a>
    </div>
</header>
    <div class="wrapper">
        <div class="site-intro" style="







height:40vh;
">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            指令集、微架构、手机芯片(Soc)及ARM的介绍
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "ISA">ISA</a>
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "Microarch">Microarch</a>
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "Soc">Soc</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">7.9k</span>Reading time: <span class="post-count reading-time">27 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2021/04/14</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <p>本篇文章偏硬件科普，没有什么实质性的技术知识。</p>
<h2 id="一、指令集"><a href="#一、指令集" class="headerlink" title="一、指令集"></a>一、指令集</h2><blockquote>
<p>以下摘自维基百科</p>
</blockquote>
<p><strong>指令集架构</strong>(Instruction Set Architecture，缩写为ISA)，又称<strong>指令集</strong>或<strong>指令集体系</strong>，有的地方也称为<strong>CPU架构</strong>。包含了一系列的opcode即操作码（机器语言），以及由特定处理器执行的基本命令。</p>
<p>一台计算机要有较好的性能，必须设计功能齐全、通用性强、内含丰富的指令系统。常接触的指令集内容：</p>
<ul>
<li>寻址方式：立即寻址、直接寻址、基址寻址、变址寻址等等</li>
<li>数据格式：指令操作数类型比如地址、数字、字符、逻辑数等</li>
<li>数据在存储器中的存放类型：比如存储字长64位，机器字长32位，是否对齐存放等。及字节序：大端、小端</li>
<li>指令类型：数据传送、算术逻辑操作、移位操作、转移操作、输入输出等</li>
</ul>
<p>指令集体系与<strong>微架构</strong>(<strong>一套用于执行指令集的微处理器设计方法</strong>)不同。使用不同微架构的电脑可以共享一种指令集。例如，Intel的Pentium和AMD的AMD Athlon，两者几乎采用相同版本的x86指令集体系，但是两者在内部设计上有本质的区别。</p>
<p>从现阶段的主流体系结构讲，指令集可分为：</p>
<ul>
<li>复杂指令集<code>CISC(Complex Instruction Set Computer)</code><ul>
<li>包含许多应用程序中很少使用的特定指令，由此产生的缺陷是指令长度不固定。比如DEC公司的VAX-11/780有16种寻址方式、9种数据格式、303条指令</li>
</ul>
</li>
<li>精简指令集<code>RISC(Reduced Instruction Set Computer)</code><ul>
<li>通过只执行在程序中经常使用的指令来简化处理器的结构，而特殊操作则以子程序的方式实现，它们的特殊使用通过处理器额外的执行时间来弥补。</li>
</ul>
</li>
</ul>
<h3 id="1-1-常见的指令集"><a href="#1-1-常见的指令集" class="headerlink" title="1.1 常见的指令集"></a>1.1 常见的指令集</h3><ul>
<li><p>CISC</p>
<ul>
<li><code>IA-32</code>：英特尔32位架构(Intel Architecture, 32-bit，缩写为IA-32)，常被称为i386、或<code>x86</code>。<ul>
<li>由英特尔公司于1985年推出的指令集架构。它是8086架构的延伸版本，可支持32位运算，首次应用在Intel 80386芯片中。主要用于PC端。</li>
<li>Intel早期给于AMD授权，使得AMD公司可以开发兼容x86指令集的CPU，但在微架构的实现上区别很大。</li>
</ul>
</li>
<li><code>x86-64</code>：又称x64、x86_64。<ul>
<li>对x86进行扩展，增加64位支持，向后兼容于16位及32位的x86架构。</li>
<li>是于1999年由AMD设计，其后也为Intel所采用，称之为<code>Intel 64</code>（所以有媒体讽刺Intel在迎击AMD的民用64位技术上，使用了AMD的技术）。</li>
<li><strong>x与处理器没有任何关系</strong>，它是一个对所有<code>*86系统</code>的简单的通配符定义，是一个intel通用计算机系列的编号，也标识一套通用的计算机指令集合，例如：i386, 586,奔腾(pentium)。</li>
</ul>
</li>
</ul>
</li>
<li><p>CISC</p>
<ul>
<li><code>arm系列</code>：原英国公司，后被软银约320亿美元收购，主要用于手机、平台等移动设备</li>
<li><code>RISC-V</code>：(“RISC” 表示精简指令集，V表示第五代)，最新的开源的，龙头企业SiFive在19年获得D轮6540万美元的融资。本次融资中，高通是其中重要的投资方，另外，三星和英特尔也有相关资金的投入。</li>
<li><code>MIPS</code>: 是出现最早的商业RISC架构芯片之一，随着移动互联网的兴起，MIPS 指令集逐渐衰落，公司也多次辗转被收购。</li>
<li><code>PowerPC</code>: IBM公司</li>
</ul>
<img src="/images/OS/ISA/2181780-e8d98c5607e0d472.png" style="zoom:50%"></li>
</ul>
<h3 id="1-2-指令的组成"><a href="#1-2-指令的组成" class="headerlink" title="1.2 指令的组成"></a>1.2 指令的组成</h3><p>在传统的架构上，一条指令包含<code>op code</code>，表示运算的方式，以及零个或是更多的操作数，有些像是操作数的数字可能指的是寄存器的编号，还有存储器位置，或是文字数据。</p>
<p>在超长指令字（VLIW）的结构中，包含了许多微指令，借此将复杂的指令分解为简单的指令。</p>
<h3 id="1-3-指令的长度"><a href="#1-3-指令的长度" class="headerlink" title="1.3 指令的长度"></a>1.3 指令的长度</h3><p>指令长度的范围可以说是相当广泛，从微控制器的4 bit，到VLIW系统的数百bit。在个人电脑，大型机，超级电脑内的处理器，其内部的指令长度介于8到64 bits。在一个指令集架构内，不同的指令可能会有 <code>不同长度</code>。在一些结构，特别是大部分的精简指令集（RISC），指令是 <code>固定的长度</code>，长度对应到结构内一个字的大小。在其他结构，长度则是byte的整数倍或是一个halfword。</p>
<ul>
<li><strong>在x86处理器结构(CISC)内，指令长度不同，最长的指令长达15 bytes，等于120 bits</strong></li>
<li><strong>所有 ARM 指令(RISC)的长度都是 32 位。 这些指令按字对齐方式进行存储，因此在 ARM 状态下，指令地址的两个最低有效位始终为零。</strong></li>
</ul>
<h3 id="1-4-CPU指令集的形式：机器码、汇编指令"><a href="#1-4-CPU指令集的形式：机器码、汇编指令" class="headerlink" title="1.4 CPU指令集的形式：机器码、汇编指令"></a>1.4 CPU指令集的形式：机器码、汇编指令</h3><p><strong>一般指令集专利持有者在设计指令集的时候，往往提供指令集对应的机器语言规范。</strong> 而为了方便，一般也会提供汇编语言规范(在机器语言的基础上，增加了一些助记符)。<br>常见的指令集以及汇编语言规范</p>
<ul>
<li>x86指令集(PC端)</li>
<li>x86-64指令集(PC端)<ul>
<li>根据编译器的不同，有2种汇编语言规范：</li>
<li>intel汇编语言规范：Windows派系(Microsoft)，比较著名的汇编器有微软的masm和开源的nasm</li>
<li>AT&amp;T汇编语言规范：Unix派系(或者说GNU)，比如g++编译器等</li>
</ul>
</li>
<li>ARM指令集(嵌入式、移动端设备)<ul>
<li>ARM汇编，见<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://developer.arm.com/architectures">官网文档</a></li>
</ul>
</li>
</ul>
<p><strong>汇编语言规范，是给汇编程序开发者看的，也是给编译器(重要的是汇编器)看的，目的只有一个：保证汇编程序能通过汇编器转换成CPU兼容执行、实现逻辑功能的指令(二进制码)序列。如果你能编写自己的汇编器，完全可以定义自己的汇编语言规范</strong></p>
<p>所以，汇编语言和机器语言是一一对应的吗？</p>
<p>在同一汇编规范下，它们是一一对应的。如果考虑到不同的汇编语言规范，它们就不是一一对应的了。在多数场合，笼统地说，汇编语言和机器语言是一一对应的。</p>
<h3 id="1-5-GPU有没有指令集？"><a href="#1-5-GPU有没有指令集？" class="headerlink" title="1.5 GPU有没有指令集？"></a>1.5 GPU有没有指令集？</h3><p>图形处理器（Graphics Processing Unit，GPU)，又称显示核心、视觉处理器、显示芯片或绘图芯片，是一种专门在个人电脑、工作站、游戏机和一些移动设备（如平板电脑、智能手机等）上运行绘图运算工作的微处理器。</p>
<p>图形处理器：</p>
<ul>
<li>可单独与专用电路板以及附属组件组成显卡</li>
<li>或单独一片芯片直接内嵌入到主板上</li>
<li>或者内置于主板的北桥芯片中</li>
<li>现在也有内置于CPU上组成SoC的</li>
</ul>
<p>发展</p>
<ul>
<li>个人电脑领域中<ul>
<li>在2007年，90%以上的新型台式机和笔记本电脑拥有嵌入式绘图芯片，但是在性能上往往低于不少独立显卡。</li>
<li>但2009年以后，AMD和英特尔都各自大力发展内置于中央处理器内的高性能集成式图形处理核心</li>
<li>2012年时，它们的性能已经胜于那些低端独立显卡，这使得不少低端的独立显卡逐渐失去市场需求，两大个人电脑图形处理器研发巨头中，AMD以AMD APU产品线取代旗下大部分的低端独立显示核心产品线。</li>
</ul>
</li>
<li>手持设备领域上<ul>
<li>随着一些如平板电脑等设备对图形处理能力的需求越来越高，不少厂商像是高通（Qualcomm）、PowerVR、ARM、NVIDIA等，也在这个领域里纷纷“大展拳脚”。</li>
</ul>
</li>
</ul>
<p>GPU不同于传统的CPU，如Intel i5或i7处理器，其内核数量较少，专为通用计算而设计。相反，GPU是一种特殊类型的处理器，具有数百或数千个内核，经过优化，可并行运行大量计算。虽然GPU在游戏中以3D渲染而闻名，但它们对运行分析、深度学习和机器学习算法尤其有用。GPU允许某些计算比传统CPU上运行相同的计算速度快10倍至100倍。</p>
<p>指令集是针对微处理器而言，而由<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zh.wikipedia.org/wiki/%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A8">微处理器的解释</a>可知，根据微处理器的用途划分，常见的有CPU、GPU、APU等，按照概念，GPU应该也有相应的指令集及微架构。从<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zh.wikipedia.org/wiki/%E5%9C%96%E5%BD%A2%E8%99%95%E7%90%86%E5%99%A8">GPU的条目</a>中也可以看到指令集的字眼。</p>
<ul>
<li><strong>如无特殊说明，说指令集一般是指CPU指令集</strong>。</li>
<li>至于GPU的指令集，可以参考<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://software.intel.com/content/www/us/en/develop/articles/introduction-to-gen-assembly.html">Intel GPU的ISA</a>。</li>
</ul>
<h2 id="二、微-处理器-架构概述"><a href="#二、微-处理器-架构概述" class="headerlink" title="二、微(处理器)架构概述"></a>二、微(处理器)架构概述</h2><p>微架构(Microarchitecture)，又称为微体系结构、微处理器体系结构、计算机组织等，是一套用于执行某种指令集的微处理器设计方法，即<strong>微架构使得指令集架构(ISA)可以在处理器上被运行</strong>。</p>
<h3 id="2-1-微架构的概念"><a href="#2-1-微架构的概念" class="headerlink" title="2.1 微架构的概念"></a>2.1 微架构的概念</h3><p>从控制单元、运算单元两方面来简单介绍一下：</p>
<ul>
<li><strong>控制单元</strong>。现时，<strong>流水线数据路径</strong>是微架构中最常被使用的数据路径（就是指令流水技术）。这种作法也被普遍的用于微处理器，微控制器，以及数字信号处理器。<ul>
<li>流水线是微架构其中一项主要的工作。流水线的结构允许多个指令在同一时间运行，不同的指令在微架构不同的位置运行。</li>
<li>流水线分有好几个不同的阶段（stage），这些阶段是微架构的基础。这些阶段包含取指令，译码，运行指令，以及将数据写回。</li>
<li>一些结构还包含其他阶段，像是对存储器做访问的动作。</li>
</ul>
</li>
<li><strong>运行单元</strong>也是微架构的基本组件。<ul>
<li>运行单元包含算术逻辑单元（ALU），浮点运算器（FPU），load/store单元，分支预测，以及SIMD。这些单元在处理器内进行计算。</li>
<li>运行单元的数量，他们的延迟（存储器访问数据的时间）及吞吐量（将数据存到或是读取出存储器的速度）影响微架构的性能。</li>
</ul>
</li>
</ul>
<h3 id="2-2-指令集与微架构的关系"><a href="#2-2-指令集与微架构的关系" class="headerlink" title="2.2 指令集与微架构的关系"></a>2.2 指令集与微架构的关系</h3><ul>
<li>一套指令集架构可以在不同的微架构上运行。但注意<strong>厂商开发兼容某种指令集的微架构，需要指令集专利持有者授权</strong>，常见的如：<ul>
<li>Intel的x86指令集，运行在Intel、AMD公司开发的微结构上</li>
<li>ARM指令集，运行在ARM公司、苹果、三星公司开发的微架构上</li>
</ul>
</li>
<li>指令集架构相当于是 <strong>微处理器的功能接口，一般公开</strong>。</li>
<li>微架构是一套用于执行指令集的微处理器设计方法，是指令集的 <strong>硬件实现，一般保密</strong>。</li>
<li>一般是先确认指令集，然后设计微架构(硬件开发类似软件开发，先确定功能，再设计架构)。</li>
</ul>
<p>对于兼容ARM指令集的芯片来说，指令集与微架构这两个概念尤其容易混淆：</p>
<ul>
<li>ARM公司将自己研发的指令集叫做ARM指令集，同时它还研发具体的微架构如Cortex系列并对外授权。</li>
<li>但是，一款CPU使用了ARM指令集不等于它就使用了ARM研发的微架构<ul>
<li>Intel、高通、苹果、Nvidia等厂商都自行开发了兼容ARM指令集的微架构</li>
<li>同时还有许多厂商使用ARM开发的微架构来制造CPU</li>
</ul>
</li>
</ul>
<p>通常，业界认为只有具备独立的微架构研发能力的企业才算具备了CPU研发能力，而是否使用自行研发的指令集无关紧要。微架构的研发也是IT产业技术含量最高的领域之一。</p>
<h3 id="2-3-发展"><a href="#2-3-发展" class="headerlink" title="2.3 发展"></a>2.3 发展</h3><p>在PC时代，几大主要的CPU研发厂商都只是自己研制微架构自己用。到了智能设备时代，ARM公司的微架构授权模式兴起。ARM自己开发微架构后将它们上架出售，其他厂商可以拿这些核心组装为芯片来使用或销售。由于这种模式对第三方的技术能力要求很低，加上ARM的微架构在低功耗领域表现优异，这种模式获得了广泛成功。如果你发现某款芯片标明使用了Cortex系列核心，则一定是这种模式的产物。</p>
<p>如前所述，<strong>仅仅从ARM购买微架构来组装芯片的厂商是不能被称作CPU研发企业的，这些芯片也不能被称为“xx厂商研发的CPU”。典型如华为的海思920、三星Exynos 5430，只能说是“使用ARM Cortex-A15核心的芯片”</strong>。</p>
<p>但是如果一款兼容ARM指令集的芯片使用了厂商自主研发的微架构情况就不同了。高通骁龙800、苹果A7就是这样的例子–它们分别使用了高通、苹果自主研发的CPU。</p>
<p>那么，现在各家CPU研发厂商选择指令集的标准又是什么呢？一般来说大家倾向于选择<strong>软件生态较好的指令集</strong>，即支持某种指令集的软件应用越多，这种指令集也就越有市场优势。新开发的微架构只需要兼容某种指令集，那么就可以很容易运行大量为其开发的软件。早年因为微软的强势与Wintel联盟的推动，x86指令集成了最受欢迎的角色，帮助Intel用彼时性能相对落后的微架构在PC平台挤跑了一众对手。后PC时代由于苹果谷歌的两大操作系统平台的推动，ARM指令集又取得了绝对的市场优势。</p>
<p>但对于新的CPU研发单位来说，他们想获得热门指令集的兼容授权是很困难的事情。</p>
<ul>
<li>以前x86与ARM的指令集授权是拿钱买不到的，想要得到都需要进行高水平专利交换。拿到x86授权的几家厂商要么是拿的早（AMD、Cyrix、IDT），要么是有高水平技术与Intel交易（Transmeta，以功耗控制技术同Intel交易）。后来Nvidia想要研发自己的CPU，找Intel洽谈多次未果。国内的研发单位当年开始研究时自知不可能拿到x86授权，于是各自去找关系好些的其他授权方解决问题了。<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://www.zhihu.com/question/66330012">关于x86授权的那点事</a></li>
<li>ARM这边也一直对指令集授权卡的很死，之前只有高通、博通和Intel得到，也是通过技术交换的形式。08年苹果也拿到了ARM的许可，后来ARM对指令集授权也放松了。</li>
</ul>
<p>数年前国产龙芯CPU获得MIPS授权的消息曾引起一阵风波，龙芯相关负责人还曾出来解释。龙芯是兼容MIPS指令集，微架构部由中科院自主研发的CPU系列。过去中科院资金不足所以没有MIPS指令集授权，但是指令集的实现方式是公开的，因而中科院可以在研发时选择兼容该指令集。待资金充足买下授权后，龙芯就可以合法在市面销售。</p>
<p><strong>从这里我们可以知道，厂商研发CPU时并不需要获得指令集授权就可以获得指令集的相关资料与规范，指令集本身的技术含量并不是很高。获得授权主要是为了避免法律问题。然而微架构的设计细节是各家厂商绝对保密的，而且由于其技术复杂，即便获得相应文档也难以山寨</strong>。不同厂商的微架构设计水平也有较大差异，典型如Intel与AMD的对比，前者在最近几年明显技高一筹。</p>
<h2 id="三、手机芯片-Soc"><a href="#三、手机芯片-Soc" class="headerlink" title="三、手机芯片(Soc)"></a>三、手机芯片(Soc)</h2><h3 id="3-1-芯片的说明"><a href="#3-1-芯片的说明" class="headerlink" title="3.1 芯片的说明"></a>3.1 芯片的说明</h3><blockquote>
<p>现在常说的芯片非CPU，而是Soc。如麒麟、晓龙芯片</p>
</blockquote>
<p>微架构研发完成，或者说核心研发完成，接下来就是将其组装为芯片了。<strong>芯片概念澄清</strong>：</p>
<ul>
<li><p>过去的芯片仅仅包括CPU部分</p>
</li>
<li><p>如今大量的芯片集成了<strong>CPU</strong>、<strong>GPU</strong>、<strong>NPU</strong>(神经网络处理器)、<strong>ISP</strong>(image sensor processor)、<strong>基带芯片</strong>(Baseband)、<strong>音频芯片</strong>、<strong>WiFi芯片</strong>、<strong>电源管理芯片(PMIC)<strong>、</strong>内存</strong>、<strong>闪存</strong>等多种不同的功能组件，此时这种芯片就不是传统意义上的“CPU”了。那就成为手机的灵魂所在：<strong>单片系统或片上系统</strong> (<strong>System on a Chip, SoC</strong>)。</p>
<p>所以不用揪着华为使用公版ARM 的CPU和GPU的技术不放，能够把公版CPU/GPU下的SoC设计好也需要很深的技术积累的，全都自研带来的研发成本及最后的研发结果好坏，太难预料。</p>
</li>
</ul>
<p>关于后续的芯片制造，有两种选择</p>
<ul>
<li>首先是Intel那样的，从头到尾自己大包大揽，指令集、架构、芯片的设计、芯片的生产一律不依靠任何人。这样做是需要极其雄厚、全方位的实力做保障的，得有钱、有人、有技术，特别是在半导体技术日益复杂的今天，能这么做的屈指可数。好处当然也是很明显的，不但能完全自己把握自己的命脉，利润也是极其可观，Intel几乎任何产品都可以享受非常高的利润，想卖多少钱就可以卖多少钱。</li>
<li>另外一种是无工厂模式(Fabless)。这类企业只是自己设计芯片，制造则交由专门生产芯片和半导体的晶圆厂生产，比如台积电、联电、GlobalFoundries、三星电子。这时手机处理器芯片的质素，就是靠晶圆厂的工艺，或称制程 (Wafer Fabrication) 所决定。<ul>
<li>NVIDIA就是这样，AMD实在耗不过Intel就也变成了这样。</li>
<li>好处很明显，负担很轻，自己只管设计就行了，不用耗费巨资去兴建晶圆厂、开发新工艺。</li>
<li>坏处同样很突出：你设计出来了，能否造出来、即便造出来又是个什么样子你就无法做主了，得看代工伙伴的能耐。这方面的教训当然很多：<ul>
<li>台积电40/28nm两代工艺最初都很不成熟，产能也是迟迟上不来，让整个行业为之拖累；</li>
<li>GlobalFoundries 32nm工艺没有达到AMD的预期水平，第一代FX/APU处理器的频率和电压就跟设计得差很多，28nm工艺吹了那么久直到现在才刚刚上路，迫使AMD一度放弃了整整一代的低功耗APU，不得不重新设计再去找台积电。</li>
</ul>
</li>
</ul>
</li>
</ul>
<img src="/images/OS/ISA/2181780-af598567c5c86805.jpg" style="zoom:90%">

<h3 id="3-2-三星、华为、苹果、高通的Soc现状"><a href="#3-2-三星、华为、苹果、高通的Soc现状" class="headerlink" title="3.2 三星、华为、苹果、高通的Soc现状"></a>3.2 三星、华为、苹果、高通的Soc现状</h3><p>以Soc中的CPU、GPU、基带芯片这几个核心器件为例：</p>
<ul>
<li>CPU：<ul>
<li>华为、三星、高通都获得了ARM架构级授权，在公版上改动(三星狂烧千亿后放弃自研)</li>
<li>苹果使用的是ARM指令集架构，但微架构是自研。</li>
<li>即：Arm的Cortex系列CPU一家独大，其他的例如MIPS、RISC-V、x86架构都难以与其抗衡。</li>
<li>补充：桌面级CPU市场，Intel和AMD两家的天下</li>
</ul>
</li>
<li>GPU：<ul>
<li>华为采用的ARM mali系列GPU</li>
<li>苹果采用Imagination Technologies的GPU技术，但在2017年苹果宣布将在两年内弃用Imagination的一切技术，包括专利、知产、保密信息等，实现全面自研</li>
<li>高通自研的Adreno GPU（高通的Adreno GPU源自ATI的imageon，AMD收购ATI后，将移动设备资产出售给了高通）</li>
<li>三星手机中的GPU也是跟ARM合作的产物，19年6月，三星与AMD达成合作协议，三星将可采用AMD最新的RDNA架构GPU自行设计手机GPU核心</li>
<li>来自unity的数据显示，截止至2016年7月，移动GPU市场（包括安卓，iOS，WP设备）市场排名为：Arm(35.9%)、高通(32.4%)，苹果(16.0%)，Imagination(11.2%)，Vivante(1.9%)，Broadcom(1.1%)、NVIDIA(0.7%)、Intel(0.4%)。</li>
<li>补充：桌面级的GPU，特别是独立显卡市场，则是被Nvidia和AMD两家垄断。数据显示，Nvidia占据了66.3%的独立显卡市场，AMD的份额则为33.7%。虽然英特尔正准备推出自研的独立显卡，但是想要与Nvidia和AMD竞争却并不容易。</li>
</ul>
</li>
<li>基带芯片<ul>
<li>华为、三星、高通自研</li>
<li>此前苹果由于不愿向高通交纳高额专利费，因此弃用高通芯片，转而同Intel合作。但英特尔无法按时为其提供5G基带服务，只能与高通和解。在苹果和高通达成和解协议的几个小时后，英特尔就宣布退出5G基带业务。随后苹果斥资10亿收购了英特尔基带芯片业务，预计苹果自研的手机基带芯片的研发进程将会进一步加速。</li>
</ul>
</li>
</ul>
<p>总结：随着以智能手机为代表的移动市场竞争的进一步升级，为了提升自身手机产品的竞争力，三星、苹果、华为等头部的智能手机厂商继打造自己的手机SoC之后，纷纷加码投入自研CPU、GPU、NPU及基带芯片等核心器件当中。</p>
<p>尤其是华为，自“中兴事件”、美国制裁华为之后，华为便开始进一步加大了对于自研核心芯片的投入。有传闻称，除了自研的手机SoC/基带/NPU，自研CPU/GPU也在进行中</p>
<h2 id="四、ARM-CPU-GPU-IP授权"><a href="#四、ARM-CPU-GPU-IP授权" class="headerlink" title="四、ARM(CPU/GPU IP授权)"></a>四、ARM(CPU/GPU IP授权)</h2><blockquote>
<p>与移动端关系密切的ARM指令集。</p>
</blockquote>
<p>ARM起初也是卖芯片的，不过业绩平平，在这个情况下，ARM 决定改变他们的产品策略——他们不再生产芯片，转而以授权的方式，将芯片设计方案转让给其他公司，即“Partnership”开放模式。</p>
<p>ARM 所采取的是 <strong>IP（Intellectual Property，知识产权）授权</strong> 的商业模式，收取一次性技术授权费用和版税提成。对于半导体公司来说，一次性技术授权费用在 100 万 -1000 万美元之间，版税提成比例一般在 1%-2%之间。</p>
<h3 id="4-1-ARM的几种授权方式"><a href="#4-1-ARM的几种授权方式" class="headerlink" title="4.1 ARM的几种授权方式"></a>4.1 ARM的几种授权方式</h3><p>具体来说，ARM有三种授权方式： 使用层级授权、内核层级授权和架构层级授权。 这三个层级的权限(及价格)是依次上升的。</p>
<h4 id="4-1-1-使用层级授权"><a href="#4-1-1-使用层级授权" class="headerlink" title="4.1.1 使用层级授权"></a>4.1.1 使用层级授权</h4><p>是最基本也是最低的授权等级。这就意味着你只能拿别人提供的定义好的 IP 来嵌入在你的设计中，不能更改人家的 IP ，也不能借助人家的 IP 创造自己的基于该 IP 的封装产品。</p>
<p>拥有使用授权的用户只能购买已经封装好的 ARM处理器核心，而如果想要实现更多功能和特性，则只能通过增加封装之外的DSP核心的形式来实现(当然，也可以通过对芯片的再封装方法来实现)。由于担心对知识产权保护不力，ARM对很多中国背景的企业均采取这一级别的授权 。</p>
<h4 id="4-1-2-内核层级授权"><a href="#4-1-2-内核层级授权" class="headerlink" title="4.1.2 内核层级授权"></a>4.1.2 内核层级授权</h4><p><strong>内核层级授权，也就是常说的IP核授权</strong>。</p>
<p>指可以以一个内核为基础然后在加上自己的外设，不能改变原有设计，但可以根据自己的需要调整产品的频率、功耗等。比如USART GPIO SPI ADC等等，最后形成了自己的MCU ，比如三星、德州仪器 (TI)、博通、飞思卡尔、富士通以及Calxeda等，这些公司并没有权限去对内核进行改造。</p>
<p>IP核，全称知识产权核（英语：intellectual property core），是在集成电路的可重用设计方法学中，指某一方提供的、形式为逻辑单元、芯片设计的可重用模组。IP核通常已经通过了设计验证，设计人员以IP核为基础进行设计，可以缩短设计所需的周期。</p>
<p>IP核可以通过协议由一方提供给另一方，或由一方独自占有。IP核的概念源于产品设计的专利证书和源代码的版权等。设计人员能够以IP核为基础进行专用集成电路或现场可编程逻辑门阵列的逻辑设计，以减少设计周期。</p>
<p>IP核分为软核、硬核和固核：</p>
<ul>
<li><strong>软核</strong>：通常是与工艺无关、具有寄存器传输级 <code>硬件描述语言</code>描述的<code>设计代码</code>，可以进行后续设计；不包含任何物理实现信息（软核特点是对用户来讲可移植性强、设计周期短、成本低。缺点是物理实现性能不定不全面，产权保护不佳）。</li>
<li><strong>固核</strong>：则通常介于软核、硬核之间，它已经通过功能验证、时序分析等过程，设计人员可以以 <code>逻辑门级网表</code>的形式获取。</li>
<li><strong>硬核</strong>：是软核通过逻辑综合、布局、布线之后的一系列表征文件，具有特定的工艺形式、物理实现方式；</li>
</ul>
<h4 id="4-1-3-架构-指令集层级授权"><a href="#4-1-3-架构-指令集层级授权" class="headerlink" title="4.1.3 架构/指令集层级授权"></a>4.1.3 架构/指令集层级授权</h4><p>是 ARM会授权合作厂商使用自己的架构，且可以对ARM架构进行大幅度改造，甚至可以对ARM指令集进行扩展或缩减，方便其根据自己的需要来设计处理器。例如高通的Krait架构和苹果的Swift架构，就是在取得ARM的授权后根据自己的需求设计完成的。拥有架构级授权的高通和苹果所制造的ARM处理器也总是拥有更低的功耗和更高的性能</p>
<p><strong>注意，某一版本的架构层级授权，通常是永久性的。</strong></p>
<p>比如，假如ARM为了遵循美国禁令，中断了与华为的相关业务，短期内华为不受受到影响，因为华为有ARMv8架构的永久授权，而目前主流处理器的CPU核心基本上基于ARMv8指令集。华为可以直接根据ARMv8的指令集进行大幅度的改造，甚至扩展ARM指令集，实现某些特殊的功能。</p>
<p>华为完全可以自己与ARMv8指令集自行设计处理器而不受授权限制，并且具有完整的知识产权，不受美国禁令的影响。高通骁龙处理器、苹果A系列处理器都是基于ARM指令集授权进行的自主设计。</p>
<p>做个很形象的比喻：</p>
<ul>
<li>假设我写了一篇文章，我只授权了你转发，不能更改，不能添油加醋，便是使用层级授权；</li>
<li>我授权你可以在文章中引用我的文章，便是内核级授权；</li>
<li>我授权你可以拿去修改、重组我的文章，形成一篇新的论文，便是架构层级授权。</li>
</ul>
<h4 id="4-1-4-间接授权"><a href="#4-1-4-间接授权" class="headerlink" title="4.1.4 间接授权"></a>4.1.4 间接授权</h4><p>需要说明的是，上述三种级别的授权均不允许被授权者再次出售ARM架构授权。而对于半导体工厂而言，ARM通常会对其进行特殊授权。这使得台积电、三星半导体等拥有半导体代工业务的企业不仅能够直接向用户出货拥有ARM内核的芯片，更在一定情况下拥有重置ARM内核的实力和权力。</p>
<p>这也就让很多根本无法取得ARM授权的企业能够间接的使用或拥有ARM核心；当然，这种方法所带来的成本通常也比要直接从ARM手中买授权的价格高出数倍。简单的说，芯片代工厂在某种程度上扮演了ARM授权代理商的角色，其存在可以满足某些用户小批量生产以及早期论证和试验的需要。</p>
<h4 id="4-1-5-其他"><a href="#4-1-5-其他" class="headerlink" title="4.1.5 其他"></a>4.1.5 其他</h4><p>如果划分得更细一点，ARM的授权模式还包括了：</p>
<ul>
<li><strong>学术授权</strong>，是免费面向高校和科研机构的；</li>
<li><strong>Design Start</strong>，是为了方便半导体企业低成本、低风险、快速了解ARM IP的一种授权模式；<br>这两种模式下设计出来的芯片不能销售，只能用于内部研究。</li>
<li><strong>多用途授权和终身多用途授权</strong>，以时间为授权效力划分，相对来说比较适合大型企业。</li>
<li><strong>单用途授权</strong>：以用途划分授权效力范围，这种授权模式之下，需要交一笔前期授权费，此后按照每颗芯片收取约 2％的版税。这种授权相对来说比较适合创业公司，或者目标明确的特定设计项目。</li>
</ul>
<h3 id="4-2-ARM的规模"><a href="#4-2-ARM的规模" class="headerlink" title="4.2 ARM的规模"></a>4.2 ARM的规模</h3><p>正是ARM的这种授权模式，极大地降低了自身的研发成本和研发风险。它以风险共担、利益共享的模式，形成了一个以ARM为核心的生态圈，使得低成本创新成为可能。目前ARM在全球拥有大约1000个授权合作、超过300家合作伙伴，但是敢于购买架构授权的，也只有15家。高通Krait、苹果Swift、Marvell都是典型的用户。正是靠着如此众多授权伙伴的支持，ARM处理器才获得了25亿颗的季度出货量，历史总量已经达到500亿颗，可以绕地球12周。</p>
<p>2011年，ARM的客户报告79亿ARM处理器(一般来说，只要是使用ARM指令集架构的处理器，我们都会称之为 ARM 处理器)出货量，占有95%的智能手机、90%的硬盘驱动器、40%的数字电视和机上盒、15%的微控制器、和20%的移动电脑。</p>
<p><strong>简言之：ARM 已经垄断了移动芯片市场。</strong></p>
<p>有人觉得，ARM的成功得益于自身的开放，但实际上它仅仅是在商业模式上开放，在技术上的保守程度超乎大家的想象。ARM架构授权支持芯片厂商修改芯片，但同时必须遵守ARM设置的许多条件。</p>
<p>到现在，获得ARM32授权的公司一只手都能数的过来，ARM64授权虽然多一些，但授权费却异常昂贵。一家基于RISC-V架构的法国创业公司Greenwave表示，如果选择ARM架构，要花掉1500万美元的授权费。而且授权到期后，一切都是未知的，是否继续授权和授权费用都要重新谈判。</p>
<p>为什么像苹果高通这些有能力设计自主架构的公司不能自己设计指令集而非要买ARM的然后再在上面设计架构？<br>可能是做不出比arm性能更好的指令集了呗，或者性价比太低</p>
<h2 id="五、参考链接"><a href="#五、参考链接" class="headerlink" title="五、参考链接"></a>五、参考链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zhuanlan.zhihu.com/p/19893066">关于CPU、指令集、架构、芯片的一些科普</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%A7%8B">指令集架构 —— 维基百科</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zh.wikipedia.org/wiki/%E5%9C%96%E5%BD%A2%E8%99%95%E7%90%86%E5%99%A8">图形处理器GPU —— 维基百科</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://zh.wikipedia.org/wiki/%E5%BE%AE%E6%9E%B6%E6%A7%8B">微架构 —— 维基百科</a></li>
</ul>
<p>课外读物</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://www.ifanr.com/category/business">英国 ARM：如何用设计定义移动时代的故事</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://www.ifanr.com/688023">为什么苹果和三星不买 ARM？</a></li>
</ul>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://tenloy.github.io">Tenloy</a>
            <p>原文链接：<a href="https://tenloy.github.io/2021/04/14/03-2_ISA-Microarch-Soc/">https://tenloy.github.io/2021/04/14/03-2_ISA-Microarch-Soc/</a>
            <p>发表日期：2021.04.14 , 3:00 PM</p>
            <p>更新日期：2021.07.03 , 4:09 PM</p>
            <p>版权声明：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">Crative Commons 4.0 许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2021/04/15/03-3_Ins-SysCall-Kernel-Shell/" title= "指令、系统调用、库、Shell、APP的层次关系">
                    <div class="nextTitle">指令、系统调用、库、Shell、APP的层次关系</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2021/04/13/03-1_Command-Line/" title= "CLI-Shell-Terminal-脚本概念梳理">
                    <div class="prevTitle">CLI-Shell-Terminal-脚本概念梳理</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!-- gitalk评论 -->

    <!-- utteranc评论 -->

    <!-- partial('_partial/comment/changyan') -->
    <!--PC版-->


    
    

    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:luotengoto@163.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/Tenloy" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <a href="https://www.jianshu.com/u/8db1bc12db9f" class="iconfont-jian jianshu" target="_blank" title=jianshu></a>
            
        
    
        
            
                <a href="/atom.xml" class="iconfont-archer rss" target="_blank" title=rss></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:40vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8C%87%E4%BB%A4%E9%9B%86"><span class="toc-text">一、指令集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8C%87%E4%BB%A4%E9%9B%86"><span class="toc-text">1.1 常见的指令集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%8C%87%E4%BB%A4%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-text">1.2 指令的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%8C%87%E4%BB%A4%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-text">1.3 指令的长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-CPU%E6%8C%87%E4%BB%A4%E9%9B%86%E7%9A%84%E5%BD%A2%E5%BC%8F%EF%BC%9A%E6%9C%BA%E5%99%A8%E7%A0%81%E3%80%81%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4"><span class="toc-text">1.4 CPU指令集的形式：机器码、汇编指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-GPU%E6%9C%89%E6%B2%A1%E6%9C%89%E6%8C%87%E4%BB%A4%E9%9B%86%EF%BC%9F"><span class="toc-text">1.5 GPU有没有指令集？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%BE%AE-%E5%A4%84%E7%90%86%E5%99%A8-%E6%9E%B6%E6%9E%84%E6%A6%82%E8%BF%B0"><span class="toc-text">二、微(处理器)架构概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%BE%AE%E6%9E%B6%E6%9E%84%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">2.1 微架构的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%8C%87%E4%BB%A4%E9%9B%86%E4%B8%8E%E5%BE%AE%E6%9E%B6%E6%9E%84%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">2.2 指令集与微架构的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%8F%91%E5%B1%95"><span class="toc-text">2.3 发展</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%89%8B%E6%9C%BA%E8%8A%AF%E7%89%87-Soc"><span class="toc-text">三、手机芯片(Soc)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%8A%AF%E7%89%87%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="toc-text">3.1 芯片的说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E4%B8%89%E6%98%9F%E3%80%81%E5%8D%8E%E4%B8%BA%E3%80%81%E8%8B%B9%E6%9E%9C%E3%80%81%E9%AB%98%E9%80%9A%E7%9A%84Soc%E7%8E%B0%E7%8A%B6"><span class="toc-text">3.2 三星、华为、苹果、高通的Soc现状</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81ARM-CPU-GPU-IP%E6%8E%88%E6%9D%83"><span class="toc-text">四、ARM(CPU&#x2F;GPU IP授权)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-ARM%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8E%88%E6%9D%83%E6%96%B9%E5%BC%8F"><span class="toc-text">4.1 ARM的几种授权方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BD%BF%E7%94%A8%E5%B1%82%E7%BA%A7%E6%8E%88%E6%9D%83"><span class="toc-text">4.1.1 使用层级授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-%E5%86%85%E6%A0%B8%E5%B1%82%E7%BA%A7%E6%8E%88%E6%9D%83"><span class="toc-text">4.1.2 内核层级授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-%E6%9E%B6%E6%9E%84-%E6%8C%87%E4%BB%A4%E9%9B%86%E5%B1%82%E7%BA%A7%E6%8E%88%E6%9D%83"><span class="toc-text">4.1.3 架构&#x2F;指令集层级授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-4-%E9%97%B4%E6%8E%A5%E6%8E%88%E6%9D%83"><span class="toc-text">4.1.4 间接授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-5-%E5%85%B6%E4%BB%96"><span class="toc-text">4.1.5 其他</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-ARM%E7%9A%84%E8%A7%84%E6%A8%A1"><span class="toc-text">4.2 ARM的规模</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">五、参考链接</span></a></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 23
        </div>
        <!-- search  -->
        
            <div class="site-search popup-trigger tl-side-search"> 
                <span class="iconfont-jian search-icon">&#xe7fc;搜索</span>
            </div>
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2021 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/30</span><a class="archive-post-title" href= "/2021/06/30/15_Swift-Version-History/" >Swift版本更新API介绍</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/30</span><a class="archive-post-title" href= "/2021/06/30/16_SwiftUI/" >SwiftUI</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/29</span><a class="archive-post-title" href= "/2021/06/29/14_GCD/" >深入浅出GCD常用API</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/29</span><a class="archive-post-title" href= "/2021/06/29/14_AutoreleasePool/" >AutoreleasePool</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span><a class="archive-post-title" href= "/2021/06/28/13_RunLoop-Reposted-From-ibireme/" >[转]深入理解RunLoop—ibireme</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/24</span><a class="archive-post-title" href= "/2021/06/24/12_Protocol-Buffer/" >Protocol Buffer的基本介绍</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/22</span><a class="archive-post-title" href= "/2021/06/22/11_dynamic-programming/" >(二) 动态规划算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span><a class="archive-post-title" href= "/2021/06/18/10_Web-Module/" >前端各种模块化方案总结</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/27</span><a class="archive-post-title" href= "/2021/05/27/09_Fiber/" >[转]最通俗的 React Fiber(时间分片)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/27</span><a class="archive-post-title" href= "/2021/05/27/08_Coroutine/" >[转]什么是协程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/29</span><a class="archive-post-title" href= "/2021/04/29/07_Engineering/" >工程化、动态化、容器化、组件化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/29</span><a class="archive-post-title" href= "/2021/04/29/06_DSL/" >[转]谈谈DSL以及DSL的应用（以CocoaPods 为例）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/29</span><a class="archive-post-title" href= "/2021/04/29/05_Containers/" >常见的容器概念：Linux容器、Docker容器、服务器容器</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/28</span><a class="archive-post-title" href= "/2021/04/28/04_Dock-Reprinted-from-RuanYIFeng/" >[转]Docker入门教程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/20</span><a class="archive-post-title" href= "/2021/04/20/03-7_Sync-Async/" >同步和异步解读及编程中的使用场景</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/17</span><a class="archive-post-title" href= "/2021/04/17/03-5_Arm64-Handbook/" >ARM64指令简易手册</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/16</span><a class="archive-post-title" href= "/2021/04/16/03-4_Arm64-Introduce/" >iOS需要了解的ARM64汇编</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span><a class="archive-post-title" href= "/2021/04/15/03-3_Ins-SysCall-Kernel-Shell/" >指令、系统调用、库、Shell、APP的层次关系</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/14</span><a class="archive-post-title" href= "/2021/04/14/03-2_ISA-Microarch-Soc/" >指令集、微架构、手机芯片(Soc)及ARM的介绍</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/13</span><a class="archive-post-title" href= "/2021/04/13/03-1_Command-Line/" >CLI-Shell-Terminal-脚本概念梳理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/12</span><a class="archive-post-title" href= "/2021/04/12/02_CI-CD/" >CI-CD</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/10</span><a class="archive-post-title" href= "/2021/04/10/01_GithubPages-Hexo/" >使用Hexo+Github Pages搭建个人博客</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/06</span><a class="archive-post-title" href= "/2021/04/06/iOS_Knowledge_Tree/" >iOS-interview</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="hexo"><span class="iconfont-archer">&#xe606;</span>hexo</span>
    
        <span class="sidebar-tag-name" data-tags="CI/CD"><span class="iconfont-archer">&#xe606;</span>CI/CD</span>
    
        <span class="sidebar-tag-name" data-tags="多线程"><span class="iconfont-archer">&#xe606;</span>多线程</span>
    
        <span class="sidebar-tag-name" data-tags="协程"><span class="iconfont-archer">&#xe606;</span>协程</span>
    
        <span class="sidebar-tag-name" data-tags="Swift-Syntax"><span class="iconfont-archer">&#xe606;</span>Swift-Syntax</span>
    
        <span class="sidebar-tag-name" data-tags="SwiftUI"><span class="iconfont-archer">&#xe606;</span>SwiftUI</span>
    
        <span class="sidebar-tag-name" data-tags="CLI"><span class="iconfont-archer">&#xe606;</span>CLI</span>
    
        <span class="sidebar-tag-name" data-tags="Shell"><span class="iconfont-archer">&#xe606;</span>Shell</span>
    
        <span class="sidebar-tag-name" data-tags="ISA"><span class="iconfont-archer">&#xe606;</span>ISA</span>
    
        <span class="sidebar-tag-name" data-tags="Microarch"><span class="iconfont-archer">&#xe606;</span>Microarch</span>
    
        <span class="sidebar-tag-name" data-tags="Soc"><span class="iconfont-archer">&#xe606;</span>Soc</span>
    
        <span class="sidebar-tag-name" data-tags="Docker"><span class="iconfont-archer">&#xe606;</span>Docker</span>
    
        <span class="sidebar-tag-name" data-tags="DSL"><span class="iconfont-archer">&#xe606;</span>DSL</span>
    
        <span class="sidebar-tag-name" data-tags="dp"><span class="iconfont-archer">&#xe606;</span>dp</span>
    
        <span class="sidebar-tag-name" data-tags="AutoreleasePool"><span class="iconfont-archer">&#xe606;</span>AutoreleasePool</span>
    
        <span class="sidebar-tag-name" data-tags="ARM64"><span class="iconfont-archer">&#xe606;</span>ARM64</span>
    
        <span class="sidebar-tag-name" data-tags="RunLoop"><span class="iconfont-archer">&#xe606;</span>RunLoop</span>
    
        <span class="sidebar-tag-name" data-tags="ARM手册"><span class="iconfont-archer">&#xe606;</span>ARM手册</span>
    
        <span class="sidebar-tag-name" data-tags="Fiber"><span class="iconfont-archer">&#xe606;</span>Fiber</span>
    
        <span class="sidebar-tag-name" data-tags="interview"><span class="iconfont-archer">&#xe606;</span>interview</span>
    
        <span class="sidebar-tag-name" data-tags="GCD"><span class="iconfont-archer">&#xe606;</span>GCD</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="软件工程-化"><span class="iconfont-archer">&#xe60a;</span>软件工程-化</span>
    
        <span class="sidebar-category-name" data-categories="OS"><span class="iconfont-archer">&#xe60a;</span>OS</span>
    
        <span class="sidebar-category-name" data-categories="工程化"><span class="iconfont-archer">&#xe60a;</span>工程化</span>
    
        <span class="sidebar-category-name" data-categories="Data"><span class="iconfont-archer">&#xe60a;</span>Data</span>
    
        <span class="sidebar-category-name" data-categories="Swift"><span class="iconfont-archer">&#xe60a;</span>Swift</span>
    
        <span class="sidebar-category-name" data-categories="容器化"><span class="iconfont-archer">&#xe60a;</span>容器化</span>
    
        <span class="sidebar-category-name" data-categories="DSL"><span class="iconfont-archer">&#xe60a;</span>DSL</span>
    
        <span class="sidebar-category-name" data-categories="Algorithm"><span class="iconfont-archer">&#xe60a;</span>Algorithm</span>
    
        <span class="sidebar-category-name" data-categories="iOS"><span class="iconfont-archer">&#xe60a;</span>iOS</span>
    
        <span class="sidebar-category-name" data-categories="React"><span class="iconfont-archer">&#xe60a;</span>React</span>
    
        <span class="sidebar-category-name" data-categories="Web"><span class="iconfont-archer">&#xe60a;</span>Web</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "Tenloy"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
        <div class="site-search">
  <div class="algolia-popup popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="iconfont-archer">&#xe609;</i>
    </span>
  </div>
</div>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.8.0/dist/instantsearch.min.js" defer></script>
        <script src="/scripts/search.js" defer></script>
    
    <!-- busuanzi  -->
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
    </body>
</html>


